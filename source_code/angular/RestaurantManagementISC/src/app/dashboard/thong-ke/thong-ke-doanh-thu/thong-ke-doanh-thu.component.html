<!--main content start-->
<section id="main-content">
  <section class="wrapper p-0">
    <div class="table-agile-info p-0">
      <div class="panel panel-default">
        <div class="panel-heading">
          Thống kê doanh thu
        </div>
        <div class="text-center">
          <div class="my-3 d-inline-block  text-center">
            <div class="form-group float-left mr-2 d-block">
              <label for=""><strong>Từ ngày</strong></label>
              <input type="date" class="form-control" name="" id="dateFrom" [(ngModel)]="dateFrom" >
            </div>
            <div class="form-group float-left ml-2">
              <label for=""><strong>Đến ngày</strong></label>
              <input type="date" class="form-control" [(ngModel)]="dateTo" name="" id="">
            </div>
            <div class="text-center">
              <button class="btn btn-group-lg btn-success h-auto" (click)="click()"><i class="fa fa-search"> Tìm</i></button>
            </div>

          </div>
        </div>
          
        <table id="example" class="table table-striped table-bordered bg-light table-hover" style="width:100%">
          <thead>
            <tr>
              <th>STT</th>
              <th>Ngày</th>
              <th>Chi</th>
              <th>Thu</th>
            </tr>
          </thead>
          <tbody>

            <tr *ngFor="let row of Doanhthus | paginate: { itemsPerPage: 20, currentPage: page }; let i=index">
              <td>{{i+1}}</td>
              <td>{{row.ngay | date: 'dd/MM/yyyy'}}</td>
              <ng-container *ngIf="row.chi===null; else elseTemplate1">
                <td>0 VNĐ</td>
              </ng-container>
              <ng-template #elseTemplate1>
                <td>
                  <div [style.width.%]="((TongThuChi.maxchi===null || TongThuChi.maxchi===undefined)?0:(((row.chi===null)?0:(row.chi))/(TongThuChi.maxchi)*100))"
                    [ngStyle]="{'background-color':'aquamarine', 'height':'100%'}">{{(row.chi===null)?'0':(row.chi).toLocaleString('en-GB')}}
                    VNĐ</div>
                </td>
              </ng-template>
              <ng-container *ngIf="row.thu===null; else elseTemplate2">
                <td>0 VNĐ</td>
              </ng-container>
              <ng-template #elseTemplate2>
                <td>
                  <div [style.width.%]="((TongThuChi.maxthu===null)?'0':(((row.thu===null)?0:(row.thu))/(TongThuChi.maxthu)*100))"
                    [ngStyle]="{'background-color':'aqua', 'height':'100%'}">{{(row.thu===null)?'0':(row.thu).toLocaleString('en-GB')}}
                    VNĐ</div>
                </td>
              </ng-template>
            </tr>

          </tbody>
        </table>
        <div class="text-center pb-1">
          <pagination-controls class="text-center" previousLabel="Trang trước" nextLabel="Trang sau" (pageChange)="page = $event"></pagination-controls>
        </div>

        <div class="w-100">
          <div class="col-sm-12 pl-0" id="Th_Bieu_do" [chart]="chart">
          </div>
        </div>
        
          
      </div>
    </div>
  </section>
  
  <!-- footer -->
  <div class="footer">
    <div class="wthree-copyright">
      <p>© 2017 Visitors. All rights reserved | Design by <a href="http://w3layouts.com">W3layouts</a></p>
    </div>
  </div>
  <!-- / footer -->
</section>
<!--main content end-->
